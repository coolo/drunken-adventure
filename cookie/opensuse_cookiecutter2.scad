
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
fudge = 0.1;

module poly_rand(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[1.760597,-65.666502],[-12.791467,-65.013765],[-27.232317,-63.143826],[-41.504835,-60.207101],[-55.551903,-56.354002],[-56.168519,-60.306060],[-58.127746,-62.437345],[-61.107881,-63.151098],[-64.787219,-62.850559],[-72.956692,-60.819562],[-80.062533,-59.570272],[-98.020442,-54.912204],[-106.597386,-51.463288],[-114.471653,-46.686123],[-119.555023,-39.167138],[-123.289293,-30.762994],[-125.553218,-21.874516],[-126.225553,-12.902533],[-125.829708,-8.015501],[-124.195481,-3.895740],[-121.548262,-0.464740],[-118.113443,2.356010],[-109.782576,6.480801],[-101.006013,9.106718],[-89.445544,11.103622],[-77.751796,11.529192],[-54.374923,9.853277],[-50.723366,11.902552],[-48.752700,14.861275],[-48.165630,18.478956],[-48.664859,22.505099],[-51.733028,30.780799],[-55.578833,37.684427],[-57.719850,40.487786],[-58.295332,42.778381],[-57.616826,44.507628],[-55.995879,45.626940],[-51.172851,45.841420],[-48.593863,44.839417],[-46.318623,43.033137],[-39.306535,40.199106],[-32.965778,36.315587],[-27.399366,31.405627],[-22.710313,25.492267],[-15.627401,18.970632],[-7.037106,14.419729],[-2.413347,13.181340],[2.303269,12.793280],[7.018078,13.374764],[11.636417,15.045007],[15.102687,17.492988],[17.050173,20.715552],[17.888135,24.470816],[18.025833,28.516893],[17.837480,36.513945],[18.329950,39.981150],[19.759197,42.771628],[26.554222,40.961754],[33.077357,38.257496],[38.684757,34.422380],[42.732577,29.219928],[44.060278,31.367950],[44.843633,34.082599],[45.706859,40.505283],[47.181370,47.074988],[48.728829,49.973415],[51.126277,52.378728],[57.727168,58.391131],[65.425894,62.584321],[73.856787,64.996658],[82.654178,65.666503],[91.452401,64.632214],[99.885786,61.932152],[107.588668,57.604676],[114.195377,51.688148],[119.154262,45.536060],[122.781393,38.686006],[125.123061,31.329579],[126.225553,23.658373],[126.135160,15.863981],[124.898170,8.137997],[122.560872,0.672015],[119.169557,-6.342373],[112.255661,-16.607075],[104.160399,-25.814757],[95.052701,-34.010447],[85.101496,-41.239168],[74.475714,-47.545945],[63.344285,-52.975805],[51.876140,-57.573772],[40.240207,-61.384873],[30.765891,-63.512542],[21.157208,-64.898821],[1.760597,-65.666503]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[6.104347,-58.885252],[19.674986,-58.176074],[33.081440,-56.022823],[46.203658,-52.499308],[58.921589,-47.679341],[71.115181,-41.636733],[82.664383,-34.445295],[93.449142,-26.178838],[103.349407,-16.911172],[108.215897,-10.985539],[112.421193,-4.407717],[115.799383,2.665630],[118.184552,10.077838],[119.410787,17.672243],[119.312175,25.292182],[117.722803,32.780991],[114.476757,39.982008],[110.226762,46.045329],[104.848145,51.029431],[98.599721,54.855769],[91.740307,57.445799],[84.528719,58.720976],[77.223774,58.602756],[70.084288,57.012594],[63.369077,53.871948],[58.007342,49.559315],[54.109123,43.645165],[51.974021,36.836328],[51.901637,29.839638],[52.369143,25.854188],[50.923002,22.810019],[48.140919,20.769640],[44.600602,19.795563],[40.879756,19.950297],[37.556087,21.296354],[35.207302,23.896244],[34.411107,27.812478],[30.886396,30.844982],[27.171743,32.023270],[25.703634,31.715594],[24.740575,30.702577],[24.466743,28.903624],[25.066317,26.238138],[24.612288,22.176885],[23.364715,18.394961],[21.416962,14.974690],[18.862388,11.998394],[12.306225,7.707018],[8.491359,6.556584],[4.443117,6.179418],[-0.990631,6.192322],[-6.249811,7.078978],[-11.289386,8.749078],[-16.064319,11.112318],[-24.640115,17.556990],[-31.616903,25.690548],[-35.652360,29.929835],[-41.335274,33.674576],[-43.698507,34.540932],[-45.158378,34.298979],[-45.276479,32.620492],[-43.614403,29.177248],[-42.022367,25.105216],[-41.138692,20.616512],[-41.056033,16.036248],[-41.867046,11.689538],[-43.664387,7.901493],[-46.540711,4.997226],[-50.588675,3.301850],[-55.900933,3.140478],[-76.380841,4.019141],[-86.531769,3.496952],[-96.765243,1.565938],[-101.135710,-1.310991],[-102.746273,-4.038150],[-102.501913,-17.972862],[-101.928929,-24.342293],[-102.071101,-30.337145],[-101.293663,-35.861923],[-100.049227,-38.418193],[-97.961853,-40.821132],[-80.686061,-50.034015],[-72.494466,-53.456179],[-62.395653,-56.041502],[-62.649438,-51.411723],[-61.374585,-48.980164],[-58.913785,-48.260172],[-55.609731,-48.765095],[-47.842628,-51.503072],[-40.814813,-53.300872],[-17.529807,-57.593599],[-5.736415,-58.650440],[6.104347,-58.885252]]);
    }
  }
}

module poly_pupil(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-93.724888,-32.794866],[-94.411740,-31.043998],[-96.288256,-29.762275],[-98.851623,-29.293131],[-101.414990,-29.762275],[-103.291505,-31.043998],[-103.978358,-32.794866],[-103.291505,-34.545733],[-101.414990,-35.827457],[-98.851623,-36.296601],[-96.288256,-35.827457],[-94.411740,-34.545733],[-93.724888,-32.794866]]);
  }
}

module poly_body(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[10.679649,-63.594859],[-6.039101,-63.407359],[-22.627135,-61.805659],[-37.783396,-58.955180],[-57.382851,-53.626109],[-57.445351,-59.626109],[-57.476551,-59.938609],[-57.601551,-60.219859],[-57.695251,-60.438609],[-57.976501,-60.938609],[-58.539001,-61.126109],[-58.820251,-61.251109],[-59.132751,-61.344809],[-59.445251,-61.313609],[-79.945251,-57.501109],[-96.285394,-53.212308],[-103.872221,-50.501757],[-110.289001,-47.407359],[-114.289001,-43.907359],[-114.289001,-43.876159],[-114.320201,-43.844959],[-117.719214,-38.281397],[-120.757701,-30.657459],[-124.476451,-18.219959],[-124.507651,-18.032459],[-124.476601,-17.844859],[-124.007851,-13.688609],[-123.695351,-10.751109],[-123.539101,-9.688609],[-123.445401,-9.126109],[-123.476601,-9.126109],[-123.445401,-9.063609],[-122.382901,-5.251109],[-122.351701,-5.157409],[-122.101701,-4.563659],[-122.070501,-4.532459],[-120.226751,-1.438709],[-120.195551,-1.407509],[-115.923693,1.350211],[-109.633051,4.217491],[-102.839589,6.538479],[-94.807330,8.292100],[-86.047307,9.383417],[-77.070551,9.717491],[-77.039351,9.717491],[-77.008151,9.717491],[-65.226901,8.717491],[-65.195701,8.717491],[-57.730789,8.004729],[-52.008201,8.342491],[-48.383201,10.373741],[-47.177368,12.327380],[-46.383201,15.217491],[-46.245801,19.657983],[-47.033785,24.219581],[-50.320701,32.811241],[-54.008201,39.217491],[-55.289451,41.061241],[-55.664451,41.561241],[-55.758151,41.686241],[-56.101901,42.029991],[-56.101901,42.592491],[-56.101901,42.998741],[-56.101901,44.123741],[-55.008151,44.373741],[-54.633151,44.467441],[-54.133151,44.592441],[-53.695651,44.404941],[-44.320651,40.092441],[-37.820651,37.092441],[-35.601901,36.061191],[-34.914401,35.717441],[-34.695651,35.623741],[-34.476901,35.498741],[-34.414401,35.436241],[-33.883151,35.092491],[-33.851951,35.061291],[-33.789451,34.998791],[-33.289451,34.623791],[-33.226951,34.561291],[-33.164451,34.498791],[-23.195701,23.436291],[-19.101529,19.283292],[-14.920796,16.073908],[-6.488634,12.146006],[1.722807,10.972622],[9.335549,11.873791],[12.950842,13.457677],[16.335549,15.936291],[18.895391,20.078238],[20.116799,25.217541],[20.210499,33.998791],[19.835499,37.811291],[19.647999,38.655041],[19.554299,38.998791],[19.647999,39.342541],[19.741699,39.748791],[20.022949,40.811291],[21.116699,40.811291],[21.522949,40.811291],[21.866699,40.811291],[22.147949,40.686291],[22.304199,40.592591],[22.366699,40.561391],[37.397949,33.998891],[37.897949,33.780141],[38.116699,33.248891],[41.147949,26.155141],[47.085449,27.530141],[47.022949,31.748891],[47.335449,39.717641],[47.335449,39.748841],[48.903932,45.060110],[51.577017,49.697205],[55.176194,53.696055],[59.522949,57.092591],[68.862931,61.614769],[79.228859,63.594859],[89.765269,63.050378],[99.616699,59.998841],[104.556677,57.254914],[109.084849,53.884111],[116.679199,45.530091],[120.686285,38.545275],[123.304199,31.155091],[124.507651,22.611931],[124.147851,14.570056],[122.827162,7.648824],[121.147949,2.467591],[114.905307,-9.611287],[106.432139,-20.767997],[95.754375,-30.970976],[82.897949,-40.188659],[82.866749,-40.188659],[81.772999,-40.876159],[81.772999,-40.907359],[70.991604,-47.062468],[60.782168,-52.018413],[42.017954,-58.834470],[25.357925,-62.358846],[10.679649,-63.594859]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[10.617149,-60.782359],[24.993503,-59.591762],[41.269026,-56.147046],[59.632673,-49.449674],[69.656591,-44.569199],[80.273399,-38.501109],[81.367149,-37.813609],[81.367149,-37.782409],[93.928838,-28.789456],[104.307562,-18.892105],[112.505142,-8.111781],[118.523399,3.530091],[120.057849,8.334015],[121.292239,14.890126],[121.650021,22.500595],[120.554649,30.467591],[118.116312,37.358657],[114.367149,43.905091],[107.261499,51.726071],[98.429649,57.436341],[98.429649,57.405141],[89.295727,60.201457],[79.439364,60.687249],[69.750018,58.860112],[61.117149,54.717641],[57.115857,51.613982],[53.869330,48.047403],[51.496713,43.956568],[50.117149,39.280141],[49.867149,31.748891],[49.929649,26.436391],[49.960849,25.280141],[48.835849,25.030141],[40.648349,23.123891],[39.492099,22.842641],[39.023349,23.936391],[35.742099,31.623891],[22.742099,37.311391],[23.023349,34.217641],[22.929649,24.842641],[21.547179,19.013989],[18.304649,13.905141],[18.304649,13.873941],[14.395605,10.986930],[10.117149,9.155191],[10.085949,9.123991],[10.054749,9.123991],[1.737271,8.162000],[-7.269698,9.468580],[-11.875444,11.181493],[-16.466006,13.712240],[-20.978865,17.144385],[-25.351501,21.561491],[-25.351501,21.592691],[-35.070251,32.405191],[-35.163951,32.498891],[-35.476601,32.717641],[-36.070351,33.123891],[-36.101551,33.155091],[-36.195251,33.186291],[-36.820251,33.498791],[-39.007751,34.530041],[-45.507751,37.530041],[-51.320251,40.186291],[-47.757751,34.092541],[-44.235293,24.924826],[-43.384605,19.881932],[-43.570251,14.780041],[-44.567880,11.217028],[-46.257751,8.498791],[-48.571339,6.632991],[-51.351501,5.561291],[-57.882039,5.133429],[-65.539001,5.905041],[-77.101501,6.873791],[-77.132701,6.873791],[-85.849771,6.533621],[-94.363964,5.455917],[-102.106275,3.766838],[-108.507701,1.592541],[-114.647075,-1.232698],[-118.320201,-3.563709],[-118.351401,-3.563709],[-119.445151,-5.626209],[-119.476351,-5.626209],[-119.476351,-5.657409],[-119.788851,-6.344909],[-119.788851,-6.376109],[-119.820051,-6.438609],[-120.695051,-9.657359],[-120.695051,-9.719859],[-120.695051,-9.751059],[-120.757551,-10.063559],[-120.882551,-11.063559],[-121.195051,-14.001059],[-121.632551,-17.876059],[-118.070051,-29.688559],[-115.014789,-37.155245],[-112.226301,-41.938559],[-112.257501,-41.938559],[-108.851251,-44.969809],[-102.811782,-47.863692],[-95.448609,-50.489860],[-79.320001,-54.751059],[-60.288751,-58.313559],[-60.195051,-51.688559],[-60.195051,-49.719809],[-58.320051,-50.344809],[-39.668440,-55.554796],[-23.547214,-58.754533],[-5.913801,-60.563559],[10.617449,-60.782309]]);
    }
  }
}

module poly_eye(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-96.376601,-18.794859],[-100.876601,-19.519859],[-104.776601,-21.894859],[-107.451601,-25.569859],[-108.476601,-29.994859],[-107.709414,-34.543296],[-105.339101,-38.332359],[-101.712539,-40.977671],[-97.176601,-42.094859],[-92.676601,-41.369859],[-88.776601,-38.994859],[-86.101601,-35.319859],[-85.076601,-30.894859],[-85.857851,-26.290171],[-88.251601,-22.482359],[-91.882851,-19.855796],[-96.376601,-18.794859]]);
  }
}

module poly_mouth(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[-123.126601,-18.344859],[-121.826601,-17.444859],[-113.676601,-12.707359],[-107.595351,-10.821421],[-100.426601,-10.444859],[-93.098476,-11.866734],[-84.776601,-14.919859],[-75.479726,-19.585484],[-65.226601,-25.844859],[-69.326601,-16.044859],[-69.526601,-15.844859],[-82.539101,-9.857359],[-92.518789,-6.324546],[-101.326601,-4.844859],[-107.332851,-5.544859],[-113.001601,-7.144859],[-121.226601,-10.944859],[-122.326601,-11.144859],[-123.126601,-18.344859]]);
  }
}

module poly_innertail(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
      polygon([[39.323399,23.555141],[44.590586,13.553579],[51.835899,5.417641],[60.599961,-0.449546],[65.407969,-2.406382],[70.423399,-3.644859],[78.489024,-4.340171],[87.923399,-3.057359],[92.702695,-1.220054],[97.282774,1.656704],[101.483164,5.754555],[105.123399,11.255141],[107.167149,16.828579],[107.748399,22.842641],[106.867149,28.987954],[104.523399,34.955141],[100.859336,40.275454],[96.135899,44.442641],[90.531211,47.316079],[84.223399,48.755141],[78.121836,48.889516],[72.910899,47.955141],[68.656211,45.970766],[65.423399,42.955141],[63.215586,39.081704],[62.160899,34.842641],[62.287461,30.509829],[63.623399,26.355141],[66.004649,22.583266],[68.948399,19.805141],[72.454649,18.002016],[76.523399,17.155141],[79.659336,17.250454],[82.260899,17.992641],[85.523399,20.555141],[86.523399,23.855141],[86.523399,23.955141],[85.901524,26.614516],[84.473399,28.280141],[81.823399,29.455141],[78.823399,29.055141],[78.023399,28.755141],[77.523399,28.555141],[77.123399,28.455141],[75.054649,28.473891],[73.173399,29.205141],[71.667149,30.536391],[70.723399,32.355141],[70.523399,33.855141],[71.173399,36.417641],[73.023399,38.455141],[72.923399,38.455141],[73.123399,38.555141],[73.423399,38.755141],[75.823399,39.755141],[82.023399,40.855141],[87.424961,39.777016],[92.685899,36.580141],[96.690586,31.320766],[97.873203,27.935219],[98.323399,24.055141],[97.810899,19.539516],[96.173399,15.380141],[93.485899,11.708266],[89.823399,8.655141],[84.335899,6.147329],[77.648399,5.092641],[70.248399,5.969204],[62.623399,9.255141],[57.753086,12.992641],[54.035899,17.330141],[51.387461,22.080141],[49.723399,27.055141]]);
  }
}

height = 7;
pupil_height = 1;
press_height = 2;

poly_body(height);
difference() { 
  poly_eye(height-press_height);
  translate([0,0,height-pupil_height-press_height])
    poly_pupil(pupil_height);
}

poly_mouth(height-press_height);
poly_innertail(height-press_height);

poly_rand(0.8);
